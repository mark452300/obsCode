# remove_input æ–¹æ³•æ–‡æ¡£

## ğŸ“‹ **æ¦‚è¿°**

`remove_input` æ–¹æ³•ç”¨äºåˆ é™¤ OBS ä¸­çš„è¾“å…¥æºï¼ŒåŸºäº OBS WebSocket API çš„ `RemoveInput` è¯·æ±‚å®ç°ã€‚

## ğŸ”§ **æ–¹æ³•ç­¾å**

```python
def remove_input(self, input_name: str = None, input_uuid: str = None) -> bool:
```

## ğŸ“ **å‚æ•°è¯´æ˜**

| å‚æ•° | ç±»å‹ | å¿…éœ€ | è¯´æ˜ |
|------|------|------|------|
| `input_name` | `str` | å¯é€‰ | è¦åˆ é™¤çš„è¾“å…¥æºåç§° |
| `input_uuid` | `str` | å¯é€‰ | è¦åˆ é™¤çš„è¾“å…¥æº UUID |

**æ³¨æ„**ï¼š`input_name` å’Œ `input_uuid` å¿…é¡»æä¾›å…¶ä¸­ä¸€ä¸ªï¼Œä½†ä¸èƒ½åŒæ—¶æä¾›ã€‚

## ğŸ¯ **è¿”å›å€¼**

- **ç±»å‹**ï¼š`bool`
- **è¯´æ˜**ï¼šåˆ é™¤æ“ä½œæ˜¯å¦æˆåŠŸ
- **`True`**ï¼šåˆ é™¤æˆåŠŸ
- **`False`**ï¼šåˆ é™¤å¤±è´¥ï¼ˆé€šå¸¸ä¸ä¼šå‘ç”Ÿï¼Œå¤±è´¥æ—¶ä¼šæŠ›å‡ºå¼‚å¸¸ï¼‰

## âš ï¸ **é‡è¦æ³¨æ„äº‹é¡¹**

1. **çº§è”åˆ é™¤**ï¼šåˆ é™¤è¾“å…¥æºä¼šè‡ªåŠ¨åˆ é™¤æ‰€æœ‰ä½¿ç”¨è¯¥è¾“å…¥æºçš„åœºæ™¯é¡¹ç›®
2. **ä¸å¯æ¢å¤**ï¼šåˆ é™¤æ“ä½œæ˜¯ä¸å¯é€†çš„
3. **å‚æ•°äº’æ–¥**ï¼šåªèƒ½æä¾› `input_name` æˆ– `input_uuid` ä¸­çš„ä¸€ä¸ª
4. **é™é»˜å¤„ç†**ï¼šåˆ é™¤ä¸å­˜åœ¨çš„è¾“å…¥æºä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œè€Œæ˜¯è¿”å› `True`

## ğŸš¨ **å¼‚å¸¸æƒ…å†µ**

| å¼‚å¸¸ç±»å‹ | è§¦å‘æ¡ä»¶ | è¯´æ˜ |
|----------|----------|------|
| `ValueError` | å‚æ•°éªŒè¯å¤±è´¥ | æœªæä¾›å‚æ•°æˆ–åŒæ—¶æä¾›ä¸¤ä¸ªå‚æ•° |
| `OBSResourceNotFoundError` | è¾“å…¥æºä¸å­˜åœ¨ | æŸäº›æƒ…å†µä¸‹å¯èƒ½æŠ›å‡º |
| `Exception` | OBS è¿æ¥æˆ–å…¶ä»–é”™è¯¯ | ç½‘ç»œé—®é¢˜æˆ– OBS å†…éƒ¨é”™è¯¯ |

## ğŸ’¡ **ä½¿ç”¨ç¤ºä¾‹**

### åŸºæœ¬ä½¿ç”¨

```python
from obs_sdk import OBSManager

with OBSManager() as obs:
    # ä½¿ç”¨è¾“å…¥æºåç§°åˆ é™¤
    success = obs.inputs.remove_input(input_name="æˆ‘çš„æ–‡æœ¬æº")
    if success:
        print("åˆ é™¤æˆåŠŸ")
    
    # ä½¿ç”¨è¾“å…¥æº UUID åˆ é™¤
    success = obs.inputs.remove_input(input_uuid="12345678-1234-1234-1234-123456789abc")
    if success:
        print("åˆ é™¤æˆåŠŸ")
```

### é”™è¯¯å¤„ç†

```python
try:
    # åˆ é™¤è¾“å…¥æº
    obs.inputs.remove_input(input_name="æµ‹è¯•è¾“å…¥æº")
    print("åˆ é™¤æˆåŠŸ")
    
except ValueError as e:
    print(f"å‚æ•°é”™è¯¯: {e}")
    
except OBSResourceNotFoundError as e:
    print(f"è¾“å…¥æºä¸å­˜åœ¨: {e}")
    
except Exception as e:
    print(f"åˆ é™¤å¤±è´¥: {e}")
```

### å®‰å…¨åˆ é™¤ï¼ˆæ£€æŸ¥å­˜åœ¨æ€§ï¼‰

```python
input_name = "è¦åˆ é™¤çš„è¾“å…¥æº"

# å…ˆæ£€æŸ¥è¾“å…¥æºæ˜¯å¦å­˜åœ¨
if obs.inputs.exists(input_name):
    success = obs.inputs.remove_input(input_name=input_name)
    if success:
        print(f"æˆåŠŸåˆ é™¤è¾“å…¥æº: {input_name}")
else:
    print(f"è¾“å…¥æºä¸å­˜åœ¨: {input_name}")
```

### æ‰¹é‡åˆ é™¤

```python
# åˆ é™¤å¤šä¸ªè¾“å…¥æº
input_names_to_delete = ["æ–‡æœ¬1", "æ–‡æœ¬2", "å›¾åƒ1"]

for name in input_names_to_delete:
    try:
        if obs.inputs.exists(name):
            obs.inputs.remove_input(input_name=name)
            print(f"âœ… åˆ é™¤: {name}")
        else:
            print(f"âš ï¸ ä¸å­˜åœ¨: {name}")
    except Exception as e:
        print(f"âŒ åˆ é™¤å¤±è´¥ {name}: {e}")
```

## ğŸ§ª **æµ‹è¯•è¦†ç›–**

æˆ‘ä»¬ä¸º `remove_input` æ–¹æ³•åˆ›å»ºäº†å…¨é¢çš„æµ‹è¯•ï¼š

### æµ‹è¯•ç”¨ä¾‹

1. **åŸºæœ¬åˆ é™¤åŠŸèƒ½**
   - åˆ›å»ºè¾“å…¥æº
   - åˆ é™¤è¾“å…¥æº
   - éªŒè¯åˆ é™¤ç»“æœ

2. **ä½¿ç”¨ UUID åˆ é™¤**
   - é€šè¿‡ UUID åˆ é™¤è¾“å…¥æº
   - éªŒè¯åˆ é™¤æˆåŠŸ

3. **é”™è¯¯å¤„ç†**
   - åˆ é™¤ä¸å­˜åœ¨çš„è¾“å…¥æº
   - å‚æ•°éªŒè¯é”™è¯¯
   - å¼‚å¸¸æƒ…å†µå¤„ç†

4. **é›†æˆæµ‹è¯•**
   - ä¸å…¶ä»–æ–¹æ³•çš„ååŒå·¥ä½œ
   - æ‰¹é‡æ“ä½œæµ‹è¯•
   - è®¡æ•°éªŒè¯

### è¿è¡Œæµ‹è¯•

```bash
# è¿è¡Œä¸“é—¨çš„åˆ é™¤æµ‹è¯•
py -3.11 tests/test_remove_input.py

# è¿è¡Œç®€å•æµ‹è¯•
py -3.11 tests/test_remove_simple.py

# è¿è¡Œå®Œæ•´çš„è¾“å…¥ç®¡ç†å™¨æµ‹è¯•
py -3.11 tests/test_inputs.py
```

## ğŸ”„ **ä¸å…¶ä»–æ–¹æ³•çš„é…åˆ**

### åˆ›å»ºå’Œåˆ é™¤çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸ

```python
with OBSManager() as obs:
    # 1. åˆ›å»ºè¾“å…¥æº
    result = obs.inputs.create_input(
        input_name="ä¸´æ—¶æ–‡æœ¬",
        input_kind="text_gdiplus_v3",
        scene_name="ä¸»åœºæ™¯",
        input_settings={"text": "ä¸´æ—¶å†…å®¹"}
    )
    
    if result['success']:
        print(f"åˆ›å»ºæˆåŠŸ: {result['input_uuid']}")
        
        # 2. ä½¿ç”¨è¾“å…¥æº...
        # (è¿›è¡Œä¸€äº›æ“ä½œ)
        
        # 3. åˆ é™¤è¾“å…¥æº
        obs.inputs.remove_input(input_name="ä¸´æ—¶æ–‡æœ¬")
        print("æ¸…ç†å®Œæˆ")
```

### è¾“å…¥æºç®¡ç†

```python
def cleanup_test_inputs(obs):
    """æ¸…ç†æ‰€æœ‰æµ‹è¯•è¾“å…¥æº"""
    all_inputs = obs.inputs.get_names()
    
    for name in all_inputs:
        if name.startswith("æµ‹è¯•_") or name.startswith("Test_"):
            try:
                obs.inputs.remove_input(input_name=name)
                print(f"æ¸…ç†: {name}")
            except Exception as e:
                print(f"æ¸…ç†å¤±è´¥ {name}: {e}")
```

## ğŸ“Š **æ€§èƒ½è€ƒè™‘**

1. **åˆ é™¤å»¶è¿Ÿ**ï¼šåˆ é™¤æ“ä½œå¯èƒ½éœ€è¦çŸ­æš‚æ—¶é—´ç”Ÿæ•ˆï¼Œå»ºè®®åœ¨åˆ é™¤åç­‰å¾… 0.5 ç§’å†è¿›è¡ŒéªŒè¯
2. **æ‰¹é‡æ“ä½œ**ï¼šå¤§é‡åˆ é™¤æ—¶å»ºè®®åœ¨æ¯æ¬¡åˆ é™¤é—´æ·»åŠ å°å»¶è¿Ÿ
3. **é”™è¯¯æ¢å¤**ï¼šåˆ é™¤æ“ä½œä¸å¯é€†ï¼Œå»ºè®®åœ¨é‡è¦æ“ä½œå‰å¤‡ä»½é…ç½®

## ğŸ¯ **æœ€ä½³å®è·µ**

1. **æ€»æ˜¯è¿›è¡Œé”™è¯¯å¤„ç†**
2. **åˆ é™¤å‰æ£€æŸ¥è¾“å…¥æºæ˜¯å¦å­˜åœ¨**
3. **é‡è¦è¾“å…¥æºåˆ é™¤å‰è¿›è¡Œç¡®è®¤**
4. **æ‰¹é‡åˆ é™¤æ—¶æ·»åŠ é€‚å½“å»¶è¿Ÿ**
5. **è®°å½•åˆ é™¤æ“ä½œä»¥ä¾¿è°ƒè¯•**

è¿™ä¸ª `remove_input` æ–¹æ³•å®Œå–„äº†è¾“å…¥æºçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä¸ç°æœ‰çš„ `create_input` æ–¹æ³•å½¢æˆäº†å®Œæ•´çš„ CRUD æ“ä½œé›†åˆã€‚
